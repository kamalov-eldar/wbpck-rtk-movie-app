"use strict";(self.webpackChunkwbpck_rtk_movie_app=self.webpackChunkwbpck_rtk_movie_app||[]).push([[589],{1126:(e,r,t)=>{t.d(r,{W:()=>a});var n=t(5893),o=t(7294),i=t(9704),a=function(e){var r=e.children,t=e.reducers,a=e.removeAfterUnmount,c=(0,i.I0)(),u=(0,i.oR)();return(0,o.useEffect)((function(){return Object.entries(t).forEach((function(e){var r=e[0],t=e[1];u.reducerManager.add(r,t),c({type:"@INIT ".concat(r," reducer")})})),function(){a&&Object.entries(t).forEach((function(e){var r=e[0];e[1],u.reducerManager.remove(r),c({type:"@DESTROY ".concat(r," reducer")})}))}}),[]),(0,n.jsx)(n.Fragment,{children:r})}},3589:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var n=t(5893),o=t(7294),i=t(9704),a=t(6090),c=t(4502),u=t(9506),s=t(4242),d=t(1126),l=t(3006),f=function(){return f=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},f.apply(this,arguments)},v={videos:l.jl};const p=function(e){var r=e.id,t=(0,u.T)(),l=(0,i.v9)(a.ML),p=(0,i.v9)(a.fB),h=(0,i.v9)(a.Eq);(0,o.useEffect)((function(){t((0,s.O)(r))}),[r,t]);var y=(0,n.jsx)("div",{});return y=p?(0,n.jsx)(c.a,{}):l?(0,n.jsx)("iframe",{width:"100%",height:"500px",title:"trailer",src:"https://www.youtube.com/embed/".concat(l[0].key)}):(0,n.jsx)("div",{children:h}),(0,n.jsx)(d.W,f({removeAfterUnmount:!0,reducers:v},{children:(0,n.jsx)("div",f({style:{height:"500px",display:"flex",justifyContent:"center",alignItems:"center"}},{children:y}))}))}},4242:(e,r,t)=>{t.d(r,{O:()=>o});var n=t(3418),o=(0,n.hg)("videos/fetchVideosList",(function(e,r){return t=void 0,n=void 0,i=function(){var t,n;return function(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=r.call(e,a)}catch(e){c=[6,e],n=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,r.extra.apiTmdb.get("/movie/".concat(e,"/videos"),{params:{}})];case 1:if(!(t=o.sent()).data)throw new Error;return[2,t.data];case 2:return n=o.sent(),console.log("error-fetchVideosList: ",n),[2,r.rejectWithValue("Произошла ошибка при загрузке videos")];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,r){function a(e){try{u(i.next(e))}catch(e){r(e)}}function c(e){try{u(i.throw(e))}catch(e){r(e)}}function u(r){var t;r.done?e(r.value):(t=r.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}));var t,n,o,i}))},6090:(e,r,t)=>{t.d(r,{Eq:()=>n,ML:()=>i,fB:()=>o});var n=function(e){var r;return null===(r=e.videos)||void 0===r?void 0:r.error},o=function(e){var r;return null===(r=e.videos)||void 0===r?void 0:r.isLoading},i=function(e){var r;return null===(r=e.videos)||void 0===r?void 0:r.dataVideosList}},3006:(e,r,t)=>{t.d(r,{jl:()=>a});var n=t(3418),o=t(4242),i=(0,n.oM)({name:"videos",initialState:{isLoading:!1,error:void 0,dataVideosList:void 0},reducers:{},extraReducers:function(e){e.addCase(o.O.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(o.O.fulfilled,(function(e,r){e.isLoading=!1,e.dataVideosList=r.payload.results})).addCase(o.O.rejected,(function(e,r){e.error=r.payload,e.isLoading=!1}))}}),a=(i.actions,i.reducer)}}]);